webpackJsonp([43],{0:function(n,o,e){e(82);var l=e(1),a=e(3);l.prepare({shareInfo:{noDefaultShare:!0,forceShareToWeChatTimeline:!0}},function(){var n,o="我很喜欢这家店铺的东西，价格也挺便宜，你也来看看吧~",t=l.getParameter("mall_id"),i=[],s=function(){var n=null,e=null,s=function(){null!=n&&null!=e&&(a.hide(),u(n,e))},c=function(){var e="mall/"+t+"/info";l.apiRequest("GET",e,null,function(e){n={imgUrl:e.logo,mallName:e.mall_name,mallSales:e.mall_sales||"0",mallDescription:e.mall_desc||"",lastEventID:e.last_event_id||"",goodsNum:e.goods_num||0},s(),l.prepareShare({title:n.mallName,message:o,thumbnailURL:n.imgUrl,shareURL:l.buildURL({sp:null}),forceShareToWeChatTimeline:!0})},function(){n={},s()})},m=function(){var n=function(n){for(var o=[],e=0;e<n.length;e++){var l=n[e];o.push({imgUrl:l.home_banner||l.banner||l.mall_banner,forwardUrl:l.subject_id?"subject.html?subject_id="+l.subject_id:"goods.html?goods_id="+l.goods_id,show:!0,isInput:!1})}return o},o="v2/mall/"+t+"/goods";l.apiRequest("GET",o,null,function(o){e={goods_list:o.goods_list||[],home_recommend_subjects:o.recommend_subject||[]},i=n(o.subject_list||[]),s()},function(){e=[],s()})};c(),m()},u=function(o,l){m(o),i.length>0&&e(20)(function(o){n=o,c.bannerComplete=!0,c.goodsListReady("banner"),n.load(i,c.bannerHeight,function(o){o&&n.show()})}),e(16)(function(n){n.load(l,function(o){o&&(n.show(),c.goodsListReady("add"))},{mallID:t})},function(){}),avalon.scan(document.body)},c=null,m=function(o){null==c&&(c=avalon.define({$id:"root",mall:o,showMallDesc:!0,show:"hidden",bannerHeight:""+.4265625*Math.min(window.innerWidth,640)+"px",goodsComplete:!1,bannerComplete:!0,showCouponEntrance:o.lastEventID.length>0,mallCouponsIcon:o.lastEventID.length>0?"http://pinduoduo.b0.upaiyun.com/mall/coupon_icon.png":"",banners:i,goodsListReady:function(o){"add"==o&&(c.goodsComplete=!0),("banner"!=o||c.goodsComplete)&&c.bannerComplete&&(c.goodsComplete=!0,n&&n.play(),a.hide(),c.show="visible")},clickDesc:function(){c.showMallDesc=!c.showMallDesc},gotoMallCoupons:function(){Navigation.forward("mall_coupons.html?event_id="+c.mall.lastEventID+"&mall_name="+c.mall.mallName)}}),l.changeTitle(c.mall.mallName))};s()})},16:function(n,o,e){e(2),n.exports=function(n,o){e.e(9,function(l){l?o():n(e(29))})}},20:function(n,o,e){e(2),n.exports=function(n,o){e.e(10,function(l){l?o():n(e(42))})}},82:function(n,o){}});